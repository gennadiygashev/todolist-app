{"ast":null,"code":"var _jsxFileName = \"/Users/gg/Documents/portfolio/proj-react/src/containers/Menu/Menu.js\";\n// Контейнер для панели коллекции папок\nimport React, { useState, useEffect } from 'react';\nimport Axios from '../../axios/axios-folders';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport { ListItem, ListItemIcon, ListItemText, Divider } from '@material-ui/core/';\nimport { Link } from 'react-router-dom';\nimport AddFolder from '../../components/UI/AddFolder/AddFolder';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Badge from '@material-ui/core/Badge';\nexport default function Menu() {\n  const [data, setData] = useState({\n    folders: []\n  });\n\n  const createFolder = name => {\n    return {\n      name\n    };\n  }; // const deleteFolder = (id) => {\n  //   setData((folders) => {\n  //     const idx = folders.findIndex((el) => el.id === id);\n  //     const newArray = [\n  //       ...folders.slice(0, idx),\n  //       ...folders.slice(idx + 1)\n  //     ]\n  //     return {\n  //       folders: newArray\n  //     }\n  //   })\n  // }\n\n\n  const addFolder = async text => {\n    const newFolder = createFolder(text);\n    await Axios.post(`/folders.json`, newFolder).then(function (res) {\n      const folderKey = Object.values(res.data)[0];\n      newFolder.key = folderKey;\n      Axios.patch(`/folders/${folderKey}.json`, {\n        'key': folderKey\n      });\n    });\n    setData(({\n      folders\n    }) => {\n      const newArr = [...folders, newFolder];\n      return {\n        folders: newArr\n      };\n    });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const responseFolders = await Axios.get('/folders.json');\n        const folders = [];\n        Object.values(responseFolders.data).forEach(folder => {\n          folders.push(folder);\n        });\n        setData({\n          folders\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.folders.map(item => /*#__PURE__*/React.createElement(Link, {\n    to: `/folders/${item.key}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: item.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    badgeContent: Object.keys(item.cards).length,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FolderIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: item.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 27\n    }\n  }))))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CreateNewFolderIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: /*#__PURE__*/React.createElement(AddFolder, {\n      text: \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430\",\n      onItemAdded: addFolder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/gg/Documents/portfolio/proj-react/src/containers/Menu/Menu.js"],"names":["React","useState","useEffect","Axios","FolderIcon","CreateNewFolderIcon","ListItem","ListItemIcon","ListItemText","Divider","Link","AddFolder","MoreVertIcon","Badge","Menu","data","setData","folders","createFolder","name","addFolder","text","newFolder","post","then","res","folderKey","Object","values","key","patch","newArr","fetchData","responseFolders","get","forEach","folder","push","e","console","log","map","item","keys","cards","length"],"mappings":"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","sourcesContent":["// Контейнер для панели коллекции папок\nimport React, { useState, useEffect } from 'react'\nimport Axios from '../../axios/axios-folders'\nimport FolderIcon from '@material-ui/icons/Folder';\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport { ListItem, ListItemIcon, ListItemText, Divider } from '@material-ui/core/'\nimport { Link } from 'react-router-dom'\nimport AddFolder from '../../components/UI/AddFolder/AddFolder'\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Badge from '@material-ui/core/Badge';\n\n\n\nexport default function Menu() {\n  \n  const [data, setData] = useState({ folders: [] })\n\n  const createFolder = (name) => {\n    return {\n      name\n    }\n  }\n\n  // const deleteFolder = (id) => {\n  //   setData((folders) => {\n  //     const idx = folders.findIndex((el) => el.id === id);\n  //     const newArray = [\n  //       ...folders.slice(0, idx),\n  //       ...folders.slice(idx + 1)\n  //     ]\n  //     return {\n  //       folders: newArray\n  //     }\n  //   })\n  // }\n\n  const addFolder = async (text) => {\n    const newFolder = createFolder(text);\n    await Axios.post(`/folders.json`, newFolder)\n    .then(function (res) {\n      const folderKey = ((Object.values(res.data))[0])\n      newFolder.key = folderKey\n      Axios.patch(`/folders/${folderKey}.json`, {'key': folderKey})\n    })\n    setData(({ folders }) => {\n      const newArr = [\n        ...folders,\n        newFolder\n      ];\n      return {\n        folders: newArr\n      }\n    })\n  }\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {      \n        const responseFolders = await Axios.get('/folders.json')\n        const folders = []\n        Object.values(responseFolders.data).forEach((folder) => {\n          folders.push(folder)\n        })  \n        setData({\n          folders\n        }) \n      } catch (e) {\n        console.log(e)\n      }  \n    }\n    fetchData()\n  }, [])\n\n\n  return(\n    <>\n      {data.folders.map((item) => (\n        <Link to={`/folders/${item.key}`}>\n          <ListItem button key={item.key}>\n            <ListItemIcon>\n              <Badge badgeContent={Object.keys(item.cards).length} color=\"primary\">\n                <FolderIcon />\n              </Badge>\n            </ListItemIcon>\n            <ListItemText primary={item.name} />\n            <ListItemIcon><MoreVertIcon /></ListItemIcon>\n          </ListItem>\n        </Link>\n      ))}\n      <Divider />\n      <ListItem>\n        <ListItemIcon><CreateNewFolderIcon /></ListItemIcon>\n        <ListItemText primary={\n          <AddFolder \n            text='Новая папка' \n            onItemAdded={addFolder}\n          />       \n        }/>\n      </ListItem>\n    </>\n  )     \n}\n\n"]},"metadata":{},"sourceType":"module"}